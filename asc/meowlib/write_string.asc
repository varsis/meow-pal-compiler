################################################################################
# ml_write_string(char*) writes null terminated string
################################################################################
ml_write_string

write_char
# check if size = 0
	PUSH	-3[0]
	IFZ	write_string_end

# decrement size
	PUSH	-3[0]
	CONSTI	-1
	ADDI
	POP	-3[0]

	PUSH	-4[0]	# pointer to string
	PUSHI		# push char on stack
	WRITEC

# advance char pointer
	PUSH	-4[0]	# pointer to string
	CONSTI	1
	ADDI
	POP	-4[0]
	GOTO write_char

write_string_end
	RET	0
