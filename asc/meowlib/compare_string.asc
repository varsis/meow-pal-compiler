ml_string_EQ

	ADJUST 2 # pointers for each string 

	PUSH	-3[0] # size
	PUSH	-3[0] # size
	ADDI
	CONSTI	3
	ADDI
	CONSTI	-1	
	MULI	
	POP	0[0] # pointer to first string -3 - 2N

	PUSH	-3[0] # size
	CONSTI	3
	ADDI
	CONSTI	-1	
	MULI	
	POP	1[0] # pointer to second string - 3 - N

	## every char must be the same!

ml_string_EQ_loop

	# if size = 0, done
	PUSH	-3[0] # size
	IFZ	ml_string_EQ_true

	PUSH	1[0]
	PUSHI	0
	PUSH	0[0]
	PUSHI	0
	EQI
	IFZ	ml_string_EQ_false # not equal

	# increment pointers
	PUSH	1[0]
	CONSTI	1
	ADDI
	POP	1[0]

	PUSH	0[0]
	CONSTI	1
	ADDI
	POP	0[0]

	# decrement size
	PUSH	-3[0] # size
	CONSTI	-1
	ADDI
	POP	-3[0] # size

	GOTO	ml_string_EQ_loop

ml_string_EQ_false
	# return false
	CONSTI	0
	POP	-3[0]
	ADJUST -2
	RET	0

ml_string_EQ_true
	# return true
	CONSTI	1
	POP	-3[0]
	ADJUST -2

####################################################################################################

ml_string_LT

	ADJUST 2 # pointers for each string 

	PUSH	-3[0] # size
	PUSH	-3[0] # size
	ADDI
	CONSTI	3
	ADDI
	CONSTI	-1	
	MULI	
	POP	0[0] # pointer to first string -3 - 2N

	PUSH	-3[0] # size
	CONSTI	3
	ADDI
	CONSTI	-1	
	MULI	
	POP	1[0] # pointer to second string - 3 - N

	## every char must be the same!

ml_string_LT_loop

	# if size = 0, done (NOT LT)
	PUSH	-3[0] # size
	IFZ	ml_string_LT_false

	PUSH	0[0]
	PUSHI	0
	PUSH	1[0]
	PUSHI	0
	LTI
	IFNZ	ml_string_LT_true # LT!

	# increment pointers
	PUSH	1[0]
	CONSTI	1
	ADDI
	POP	1[0]

	PUSH	0[0]
	CONSTI	1
	ADDI
	POP	0[0]

	# decrement size
	PUSH	-3[0] # size
	CONSTI	-1
	ADDI
	POP	-3[0] # size

	GOTO	ml_string_LT_loop

ml_string_LT_false
	# return false
	CONSTI	0
	POP	-3[0]
	ADJUST -2
	RET	0

ml_string_LT_true
	# return true
	CONSTI	1
	POP	-3[0]
	ADJUST -2
	RET	0

####################################################################################################

ml_string_GT

	ADJUST 2 # pointers for each string 

	PUSH	-3[0] # size
	PUSH	-3[0] # size
	ADDI
	CONSTI	3
	ADDI
	CONSTI	-1	
	MULI	
	POP	0[0] # pointer to first string -3 - 2N

	PUSH	-3[0] # size
	CONSTI	3
	ADDI
	CONSTI	-1	
	MULI	
	POP	1[0] # pointer to second string - 3 - N

	## every char must be the same!

ml_string_GT_loop

	# if size = 0, done (NOT GT)
	PUSH	-3[0] # size
	IFZ	ml_string_GT_false

	PUSH	0[0]
	PUSHI	0
	PUSH	1[0]
	PUSHI	0
	GTI
	IFNZ	ml_string_GT_true # GT!

	# increment pointers
	PUSH	1[0]
	CONSTI	1
	ADDI
	POP	1[0]

	PUSH	0[0]
	CONSTI	1
	ADDI
	POP	0[0]

	# decrement size
	PUSH	-3[0] # size
	CONSTI	-1
	ADDI
	POP	-3[0] # size

	GOTO	ml_string_GT_loop

ml_string_GT_false
	# return false
	CONSTI	0
	POP	-3[0]
	ADJUST -2
	RET	0

ml_string_GT_true
	# return true
	CONSTI	1
	POP	-3[0]
	ADJUST -2
	RET	0

