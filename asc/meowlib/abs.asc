
################################################################################
# abs(x) - returns the absolute value of x
################################################################################

ml_abs_real
	# if x < 0
	PUSH	-3[0]
	CONSTR	0.0
	LTR
	IFZ	ml_abs_real_done

	# x = -x
	CONSTR	0.0
	PUSH	-3[0]
	SUBR
	POP	-3[0]

ml_abs_real_done
	RET	0

ml_abs_int
	# if x < 0
	PUSH	-3[0]
	CONSTI	0
	LTI
	IFZ	ml_abs_int_done

	# x = -x
	CONSTI	0
	PUSH	-3[0]
	SUBI
	POP	-3[0]

ml_abs_int_done
	RET	0
