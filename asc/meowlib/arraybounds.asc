

##########################################################
# Functions for bounds checking array accesses
##########################################################

ml_bcheck
	PUSH -4[0]
	CONSTI 0
	LTI
	IFNZ ml_bounderror
	PUSH -4[0]
	PUSH -3[0]
	GTI
	IFNZ ml_bounderror2
	RET 0

# For array underflow
ml_bounderror
	CONSTI 69
	WRITEC
	STOP
# For array overflow
ml_bounderror2
	CONSTI 70
	WRITEC
	STOP

ml_nobcheck
	RET 0
